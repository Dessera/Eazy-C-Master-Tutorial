# 认识简单的 C-C++程序

---

## 与计算机打交道

> 本节故意隐瞒了 C 语言和计算机程序中间的一些细节，以下所有的例子只能帮助你理解 C/C++程序的基本结构，而从 C 语言源文件到可执行文件的过程是非常复杂的，这里不会涉及。

大多数情况下，计算机程序更像是一个员工，你让它干什么，它就干什么，但是它不会主动帮你做任何事情，而编写 C/C++程序的过程就是告诉计算机程序你想让它干什么的过程。

想象你把工作流程介绍给一个新员工，你总是会说：“首先，你要……。然后，你要……。最后，你要……。”，新员工就会按照你传达给他的步骤来完成工作。在这一点上，一个计算机程序与一个新员工是一样的，只不过，计算机相比你的员工更加可靠——它高效、精确、不会犯错。

但计算机程序也有它的局限性，它绝对服从你的命令——即便你的命令是错误的。所以，编写 C/C++程序的过程就是告诉计算机程序你想让它干什么的过程，而且你必须确保你的命令是正确的。

## 简单的 C/C++程序

> 由于 main 函数的存在，我们不可避免地会涉及到函数，因此，本章节的函数可以简单的理解为一个工作流程。

计算机和人之间还有一个显著的区别，你的员工可以从你的话里分析出它的工作流程，但计算机没有这种*人性化*的分析能力，因此，你必须告诉他哪里是工作流程的开始，哪里是工作流程的结束。

基于这个认识，我们便可以认识我们的第一个 C/C++程序了，这个程序是一个非常简单的程序，它的功能是输出一句话到屏幕上。

```c++

#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}

```

一部分人可能会有些迷惑，不过别着急，我们会一步步地解释这个程序的每一部分。

还记得我们之前说的吗？编写 C/C++程序的过程就是告诉计算机程序你想让它干什么的过程，基于这个认知，我们重新浏览一下这个程序：

1. `#include <stdio.h>`：这一行告诉计算机程序我们要使用`stdio.h`这个文件中的内容，`stdio.h`是一个标准库文件，它里面包含了一些常用的函数。
2. `int main() {`：这一行告诉计算机程序我们开始定义我们的工作流程，`main`是一个特殊的函数，它是程序的入口，也就是说，当我们运行这个程序的时候，计算机程序会从这里开始执行。
3. `printf("Hello, World!\n");`：这一行告诉计算机程序我们要执行`printf`这个函数，`printf`是一个用来输出内容到屏幕上的函数，它的功能是输出一句话到屏幕上，我们导入了`stdio.h`这个文件，目的就是为了使用`printf`这个函数。
4. `return 0;`：这一行告诉计算机程序我们的工作流程结束了，`return`是一个关键字，它的功能是结束一个函数，`0`是一个特殊的数字，它告诉计算机程序我们的工作流程执行完毕了。
5. `}`：其作用是与上一个`{`配对，表示我们的函数定义完成了。

这个简单的程序涉及到一些 C 语言的高级概念，我们会在后续的章节中详细讲解，现在你只需要知道这个程序的基本结构就可以了。

基于对这个程序的理解，你可以尝试输出其他的内容。

> 后续的所有示例代码不会再写出这个程序的基本结构，你需要自己添加这些内容。

## C++

鉴于单片机培训后续会使用 C++ 语言，我们需要对其做出一些说明，下面是由上述 C 语言程序改写的 C++ 程序：

```c++

#include <cstdio>

int main() {
    std::printf("Hello, World!\n");
    return 0;
}

```

首先，C++不提倡使用`stdio.h`这个文件，而是提倡使用`cstdio`这个文件，`cstdio`是`stdio.h`的 C++ 版本，它里面包含了完全相同的内容，但更加符合C++的风格。

> 基本所有标准库文件都有一个 C++ 版本，它们的文件名都是在原来的文件名前面加上一个`c`，比如`stdio.h`的 C++ 版本就是`cstdio`。在C++程序中，我们更加推崇使用这些 C++ 版本的标准库文件。

其次，C++提倡使用`std::printf`这种形式，这实际上表达了`printf`函数是`std`这个命名空间中的一个函数，有关于命名空间的内容我们会在后续的章节中详细讲解，现在可以简单的看作函数的前缀。

如果你想写出更进一步的 C++ 程序，我们可以继续改写这个程序：

```c++

#include <iostream>

int main() {
    std::cout << "Hello, World!" << std::endl;
    return 0;
}

```

相比于`stdio.h`和`cstdio`，C++更加推崇使用`iostream`这个文件，`iostream`是一个标准库文件，它里面包含了一些常用的输入输出函数，并且完全符合C++的风格。

我们不会对这个程序做出详细的解释，因为这个程序涉及到了一些 C++ 的高级概念，我们会在后续的章节中详细讲解，现在你只需要知道这个程序的基本结构等价于前面的程序就可以了。

## 练习

- 输出你想输出的任意内容以替换`Hello, World!`。

## 注意

1. 所有源代码文件必须使用半角字符（ASCII 字符），不可使用全角字符。
2. 本教程使用在线编译器，因此规避了文字编码问题，如果你使用本地编译器，你有可能会发现中文无法正常输出，这是因为你的终端编码不是 UTF-8 编码，你可以通过修改终端编码来解决这个问题，但这不是本课程的重点，所以我们不会详细讲解。
